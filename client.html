<!DOCTYPE html>
<html>
<head>
	<style>
		#container{ 
			font-family:arial;
			font-size:10px;
			border:1px dashed #ddd; 
			width:300px;
			height:200px;
			overflow:auto;
			padding:30px;
		}

		#fixtures {			
			list-style-type:none;
		}

		#fixtures li { 
			border-bottom:1px solid #ccc; 
			text-align:center;
			padding-bottom:2px; 
			margin-bottom:5px;
		}
	</style>
	<script src="http://cdn.socket.io/stable/socket.io.js"></script>
	<script>
		var socket = new io.Socket('localhost',{ port: 8080 });
		socket.connect();
		
		socket.on('connect',function() {
		  log('<span>2010-2011 Live English football Premier League scores:</span>');
		});

		socket.on('message',function(data) {
		  if(data.rows == undefined)
		    log(data);
		  else
		    update(data);
		});

		socket.on('disconnect',function() {
		  log('<span>The client has disconnected!</span>');
		});
		
		function sendMessageToServer(message) {
		  socket.send(message);
		  log('<span>Sending "' + message + '" to the server!</span>');
		}
		
		function update(message) {
		 for (var i = 0; i < message.rows.length; i++)
		  document.getElementById(message.rows[i].id).innerHTML = message.rows[i].score;
		}

		function log(message) {
		  var li = document.createElement('li');
		  li.innerHTML = message;
		  document.getElementById('fixtures').appendChild(li);
		}		
	</script>
</head>
<body>
	<div id="container">
	  <ul id="fixtures"></ul>
	</div>
</body>
</html>
